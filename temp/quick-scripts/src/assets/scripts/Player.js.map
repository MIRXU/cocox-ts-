{"version":3,"sources":["assets/scripts/Player.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    // @property(cc.Label)\n    // label: cc.Label = null;\n\n    // @property\n    // text: string = 'hello';\n\n    @property\n    jumpHeight:number=0;//主角跳跃高度\n\n    @property\n    jumpDuration:number=0;//主角跳跃持续时常\n\n    @property\n    maxMoveSpeed:number=0;//最大移动速度\n\n    @property\n    accel:number=0;//加速度\n    // LIFE-CYCLE CALLBACKS:\n\n    //加速度开关方向\n    @property({visible:false})\n    accLeft:boolean=false;\n    @property({visible:false})\n    accRight:boolean=false;\n\n    @property({visible:false})\n    xSpeed:number=0;//主角水平方向速度\n\n    onLoad () {\n        const jumpAction=this.runJumpAction();\n        cc.tween(this.node).then(jumpAction).start();\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDwon,this);\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this);\n        \n    }\n    runJumpAction():cc.Tween{\n        \n        //向上跳跃\n        const jumpUp=cc.tween().by(this.jumpDuration,{y:this.jumpHeight},{easing:'sineOut'});\n        // 下落\n        const jumpDwon=cc.tween().by(this.jumpDuration,{y:-this.jumpHeight},{easing:'sineIn'});\n        \n        // 缓动动画\n        const tween1=cc.tween().sequence(jumpUp,jumpDwon);\n        // 　重复执行\n        const  jumpAction=cc.tween().repeatForever(tween1)\n        return jumpAction;\n    }\n    onKeyDwon(event:KeyboardEvent):void{\n        switch(event.keyCode){\n            case cc.macro.KEY.a:\n                this.accLeft=true;\n                break;\n            case cc.macro.KEY.d:\n                this.accRight=true;\n                break;\n        }\n    }\n    onKeyUp(event:KeyboardEvent):void{\n        switch(event.keyCode){\n            case cc.macro.KEY.a:\n                this.accLeft=false;\n                break;\n            case cc.macro.KEY.d:\n                this.accRight=false;\n                break;\n        }\n    }\n    start () {\n\n    }\n\n    update (dt) {\n        //根据加速度方向更新每帧方向\n        if(this.accLeft){\n            this.xSpeed-=this.accel*dt;\n        }\n        else if(this.accRight){\n            this.xSpeed+=this.accel*dt;\n        }\n        //限制主角的速度\n        if(Math.abs(this.xSpeed)>this.maxMoveSpeed){\n            this.xSpeed=this.maxMoveSpeed*this.xSpeed/Math.abs(this.xSpeed);\n        }\n        //根据速度更新主角位置\n        this.node.x+=this.xSpeed*dt;\n    }\n}\n"]}