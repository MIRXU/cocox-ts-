{"version":3,"sources":["assets/scripts/game.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAE5E,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAsC,4BAAY;IAAlD;QAAA,qEAuDC;QArDE,SAAS;QAER,gBAAU,GAAW,IAAI,CAAC;QAE1B,gBAAgB;QAEhB,qBAAe,GAAQ,CAAC,CAAC;QAEzB,qBAAe,GAAQ,CAAC,CAAC;QAEzB,IAAI;QAEJ,YAAM,GAAS,IAAI,CAAC;QAEpB,IAAI;QAEJ,YAAM,GAAS,IAAI,CAAC;QAIpB,aAAO,GAAQ,CAAC,CAAC;;QAgCjB,iBAAiB;IACrB,CAAC;IA/BG,wBAAwB;IAExB,yBAAM,GAAN;QACI,QAAQ;QACR,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAC,CAAC,CAAC;QAChD,MAAM;QACN,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IACD,+BAAY,GAAZ;QACI,UAAU;QACV,IAAM,OAAO,GAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC9C,UAAU;QACV,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC5B,SAAS;QACT,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC;IACnD,CAAC;IACD,qCAAkB,GAAlB;QACI,IAAI,KAAK,GAAQ,CAAC,CAAC;QACnB,uBAAuB;QACvB,IAAM,KAAK,GAAC,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC,MAAM,EAAE,GAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,UAAU,GAAC,EAAE,CAAC;QACxF,eAAe;QACf,IAAM,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAC,CAAC,CAAC;QAC7B,KAAK,GAAC,CAAC,IAAI,CAAC,MAAM,EAAE,GAAC,GAAG,CAAC,GAAC,CAAC,GAAC,IAAI,CAAC;QAEjC,OAAO,EAAE,CAAC,EAAE,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IACD,wBAAK,GAAL;IAEA,CAAC;IAhDD;QADC,QAAQ;gDACiB;IAI1B;QADC,QAAQ,CAAC,EAAC,OAAO,EAAC,KAAK,EAAC,CAAC;qDACD;IAEzB;QADC,QAAQ,CAAC,EAAC,OAAO,EAAC,KAAK,EAAC,CAAC;qDACD;IAIzB;QADC,QAAQ;4CACW;IAIpB;QADC,QAAQ;4CACW;IAIpB;QAFC,QAAQ,CAAC,EAAC,OAAO,EAAC,KAAK,EAAC,CAAC;QACzB,QAAQ;6CACQ;IAtBA,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAuD5B;IAAD,eAAC;CAvDD,AAuDC,CAvDqC,EAAE,CAAC,SAAS,GAuDjD;kBAvDoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n   //引入星星预制体\n    @property\n    starPrefab:cc.Prefab=null;\n\n    //星星产生后消失时间的随机范围\n    @property({visible:false})\n    maxStarDuration:number=0;\n    @property({visible:false})\n    minStarDuration:number=0;\n\n    //地面\n    @property\n    ground:cc.Node=null;\n\n    //玩家\n    @property\n    player:cc.Node=null;\n\n    @property({visible:false})\n    @property\n    groundY:number=0;\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        //获取地面y轴\n        this.groundY=this.ground.y+this.ground.height/2;\n        //生成星星\n        this.spawnNewStar();\n    }\n    spawnNewStar():void{\n        //内置方法生成星星\n        const newStar=cc.instantiate(this.starPrefab);\n        //将星星添加至场景\n        this.node.addChild(newStar);\n        //设置星星随机点\n        newStar.setPosition(this.getNewStarPosition());\n    }\n    getNewStarPosition():cc.Vec2{\n        let randX:number=0;\n        //根据地面和主角跳跃高度，随机生成星星y坐标\n        const randY=this.groundY+Math.random()*this.player.getComponent('Player').jumpHeight+50;\n        // 根据屏幕宽度获取星星的x\n        const maxX=this.node.width/2;\n        randX=(Math.random()-0.5)*2*maxX;\n\n        return cc.v2(randX,randY);\n    }\n    start () {\n\n    }\n\n    // update (dt) {}\n}\n"]}